const fs = global.nodemodule["fs-extra"];
module.exports.config = {
  name: "EmonBot",
  version: "2.0.0",
  hasPermssion: 0,
  credits: "MD Emon Hossain",
  description: "All message auto reply bot",
  commandCategory: "Noprefix",
  usages: "‡¶∏‡¶¨ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú‡ßá reply",
  cooldowns: 2,
};

module.exports.handleEvent = async function({ api, event, args, Threads, Users }) {
  const { threadID, messageID } = event;
  const moment = require("moment-timezone");
  const time = moment.tz("Asia/Dhaka").format("HH:mm:ss - DD/MM/YYYY");
  const name = await Users.getNameUser(event.senderID);

  // Reply list (‡¶ñ‡ßÅ‡¶¨ ‡¶¨‡ßú ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡¶≤‡¶æ‡¶Æ)
  const tl = [
    "Emon Community Bot ‡¶Ü‡¶õ‡¶ø, ‡¶ï‡ßá‡¶Æ‡¶® ‡¶Ü‡¶õ‡ßá‡¶®? ü•∞",
    "‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶≤‡¶ø‡¶ñ‡ßá‡¶õ‡ßã: " + event.body,
    "Boss Emon ‡¶è‡¶∞ Bot ‡¶è‡¶ñ‡¶® active ‡¶Ü‡¶õ‡ßá ‚úÖ",
    "‡¶Ü‡¶Æ‡¶ø ‡¶∏‡¶¨‡¶∏‡¶Æ‡ßü ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ü‡¶õ‡¶ø ‚ù§Ô∏è",
    "‡¶ì‡¶π, ‡¶¶‡¶æ‡¶∞‡ßÅ‡¶£ ‡¶¨‡¶≤‡ßá‡¶õ‡ßã! üî•",
    "‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡¶ø ‡¶ú‡¶æ‡¶®‡ßã? Bot ‡¶è‡¶∞ ‡¶®‡¶æ‡¶Æ Emon Community üòé",
    "‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶Ø‡¶¶‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶∞ Boss Emon ‡¶ï‡ßá ‡¶°‡¶æ‡¶ï‡ßã, ‡¶Ü‡¶Æ‡¶ø ‡¶Ü‡¶ó‡ßá ‡¶Ü‡¶∏‡¶¨‡ßã üòÅ",
    "‡¶Æ‡¶ú‡¶æ ‡¶™‡¶æ‡¶ö‡ßç‡¶õ‡¶ø, ‡¶Ü‡¶∞‡ßã ‡¶≤‡¶ø‡¶ñ‡ßã üòç",
    "‡¶è‡¶ü‡¶æ ‡¶è‡¶ñ‡¶® auto reply mode ‡¶è ‡¶ö‡¶≤‡¶õ‡ßá ‚ö°",
    "‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶, ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá message ‡¶¶‡¶ø‡¶≤‡ßá üòä",
    "‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá /help ‡¶≤‡¶ø‡¶ñ‡ßá ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßã üí°",
    "‡¶Ü‡¶Æ‡¶ø ‡¶∏‡¶¨ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú‡ßá reply ‡¶¶‡ßá‡¶á, ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏ ‡¶π‡¶ö‡ßç‡¶õ‡ßá? üòâ",
    "Emon Bot ‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá ‡¶∏‡ßç‡¶Ø‡¶æ‡¶≤‡ßÅ‡¶ü ‡¶¶‡¶ø‡¶≤‡ßã ü§ù",
    "Boss Emon ‚ù§Ô∏è ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ‡¶∞ owner",
    "‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶Ö‡¶®‡ßá‡¶ï ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßã üòç",
    "Bot ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ message ‡¶¶‡ßá‡¶ñ‡ßá ‡¶π‡¶æ‡¶∏‡¶≤‡ßã üòÇ",
    "‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶§‡ßç‡¶¨ ‡¶ï‡¶∞‡¶¨‡ßá? ü•∫",
    "Emon Community Forever üî•",
    "‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø random reply ‡¶ö‡¶≤‡ßá ‡¶è‡¶≤‡ßã ‚ú®",
    "‡¶è‡¶ñ‡¶® ‡¶∏‡¶Æ‡ßü: " + time
  ];

  const rand = tl[Math.floor(Math.random() * tl.length)];

  // ‡¶∏‡¶¨ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú‡ßá ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶¶‡¶ø‡¶¨‡ßá
  if (event.body && event.body.length > 0) {
    api.sendMessage(
      `${name}, ${rand}`,
      threadID,
      messageID
    );
  }
};

module.exports.run = function({ api, event, client, __GLOBAL }) {
  return api.sendMessage("Emon Community Bot ‡¶∏‡¶¨ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú‡ßá reply ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§ ‚úÖ", event.threadID);
};
